# GeoShooter – Twin‑Stick Arena

## 概要

**GeoShooter** は、ジオメトリウォーズ風の本格的な 1 画面ツインスティック・シューティングをブラウザで遊べる HTML5 ゲームです。  
多彩な敵、パワーアップシステム、爽快なエフェクト、プロシージャル生成サウンドを搭載した完成度の高いアーケードシューターです。

<img width="1121" height="730" alt="image" src="https://github.com/user-attachments/assets/bb8f3d5f-eb07-4024-aff3-1e18457909ba" />

https://you-sk.github.io/simple-geowars-chatgpt/

## 特徴

### 🎮 **本格的なゲームプレイ**

- **4種類の個性的な敵**: 基本敵、ホーミング敵、分裂敵、高速移動敵
- **3種類のパワーアップ**: トリプルショット、レーザー（貫通弾）、シールド
- **ボムシステム**: 画面全体攻撃で緊急回避
- **コンボシステム**: 連続撃破でスコア倍率アップ

### ✨ **リッチな視覚表現**

- **動的背景**: アニメーション星空、ドリフトするメッシュグリッド、スキャンライン
- **派手なエフェクト**: トレイル、発光、爆発パーティクル
- **サイバーパンク風UI**: ネオン調の色彩とモノスペースフォント

### 🔊 **没入感のあるオーディオ**

- **プロシージャル生成SE**: 射撃、爆発、パワーアップ、ゲームオーバー音
- **エレクトロニックBGM**: 16秒ループの自動生成楽曲

### 💾 **充実したゲーム機能**

- **ハイスコア記録**: LocalStorage保存、新記録時の特別表示
- **ポーズ機能**: P キーまたはゲームパッドで一時停止
- **難易度調整**: スコアに応じた動的難易度変更

## ファイル構成

### 📁 **プロジェクト構造**

```
├── index.html              # メインHTML（UI構造）
├── game.js                 # ゲームループとメイン処理
├── audio.js                # サウンドシステム（Web Audio API）
├── src/                    # モジュラー化されたゲームコード
│   ├── config/
│   │   └── GameConfig.js   # ゲーム設定・パラメータ
│   ├── entities/           # ゲームオブジェクト
│   │   ├── Vec2.js         # 2Dベクター計算
│   │   ├── Player.js       # プレイヤークラス
│   │   ├── Enemy.js        # 敵クラス（4種類）
│   │   ├── Bullet.js       # 弾丸・レーザー・トレイル
│   │   ├── Powerup.js      # パワーアップアイテム
│   │   ├── Particle.js     # パーティクルエフェクト
│   │   └── index.js        # エンティティ統合エクスポート
│   └── systems/            # ゲームシステム
│       ├── GameState.js    # ゲーム状態管理
│       ├── Renderer.js     # メインレンダラー
│       ├── BackgroundRenderer.js # 背景描画
│       ├── EffectsRenderer.js    # エフェクト描画
│       ├── UIRenderer.js   # UI・HUD描画
│       └── index.js        # システム統合エクスポート
├── tests/                  # 包括的テストスイート
│   ├── entities/           # エンティティテスト
│   ├── systems/            # システムテスト
│   ├── config/             # 設定テスト
│   └── setup.js            # テスト環境設定
├── package.json            # npm設定・スクリプト
├── jest.config.js          # テスト設定
├── babel.config.js         # ES6モジュール変換設定
├── eslint.config.js        # コード品質設定
└── README.md              # このドキュメント
```

## 動作環境

- **デスクトップブラウザ**: Chrome / Firefox / Edge / Safari（最新版推奨）
- **必須 API**: Canvas 2D, Gamepad API, Web Audio API
- **推奨解像度**: 任意（ウィンドウサイズに自動フィット）
- **入力デバイス**: キーボード + マウス、またはゲームパッド

## 操作方法

### 🎹 キーボード

| 機能           | キー                      |
| -------------- | ------------------------- |
| **移動**       | **W A S D**               |
| **射撃**       | **↑ ↓ ← →**               |
| **ボム**       | **SPACE**                 |
| **ポーズ**     | **P** / **ESC**           |
| **リスタート** | **R**（ゲームオーバー時） |

### 🎮 ゲームパッド

| 機能           | ボタン / スティック                  |
| -------------- | ------------------------------------ |
| **移動**       | **左スティック**                     |
| **射撃**       | **右スティック**                     |
| **ボム**       | **A / B ボタン**                     |
| **ポーズ**     | **SELECT ボタン**                    |
| **リスタート** | **START ボタン**（ゲームオーバー時） |

## ゲームシステム

### 🏆 **スコアリング**

- **基本点**: 敵撃破で 10〜30 点
- **コンボ倍率**: 3秒以内の連続撃破で最大 3.0x
- **ハイスコア**: 自動保存、新記録時は特別表示

### 👾 **敵の種類**

| 敵タイプ         | 外観           | 特徴             | 出現条件  |
| ---------------- | -------------- | ---------------- | --------- |
| **基本敵**       | 紫の円         | 標準的な動き     | 常時      |
| **ホーミング敵** | オレンジの三角 | プレイヤーを追跡 | 100点以降 |
| **高速移動敵**   | 水色の円       | 高速で移動       | 100点以降 |
| **分裂敵**       | 緑の6本棘      | 撃破時3体に分裂  | 500点以降 |

### 🎁 **パワーアップ**

| アイテム | 効果                              | 持続時間 |
| -------- | --------------------------------- | -------- |
| **3**    | トリプルショット（3方向同時射撃） | 15秒     |
| **L**    | レーザー（貫通弾、3体まで貫通）   | 15秒     |
| **S**    | シールド（3回まで被弾無効）       | 被弾まで |

### 💣 **ボムシステム**

- **所持数**: 最大5個（開始時3個）
- **効果**: 画面内の全敵を撃破
- **補充**: 敵撃破時に20%の確率でドロップ

### 🎯 **難易度システム**

- **動的調整**: スコアに応じて敵の出現頻度と移動速度が上昇
- **バランス**: 滑らかな難易度カーブで長時間プレイ可能

## 技術仕様

### 🏗️ **アーキテクチャ**

- **ES6モジュラー設計**: 明確な責任分離と高い保守性
- **Pure JavaScript**: フレームワーク不使用、軽量実装
- **包括的テストスイート**: 221テストケース、98%+ カバレッジ
- **オブジェクト指向**: クラスベースの保守性の高い設計
- **CI/CD対応**: ESLint、Prettier、Jest完全統合

### 🎨 **グラフィックス**

- **Canvas 2D API**: 60fps動作、リアルタイム描画
- **パーティクルシステム**: 軽量で派手なエフェクト
- **アニメーション背景**: CPU負荷を抑えた美しい背景表現

### 🔊 **オーディオ**

- **Web Audio API**: 低遅延、高品質サウンド
- **プロシージャル生成**: ランタイムでの音声合成
- **動的ミキシング**: BGM、SE の独立音量制御

## パフォーマンス

- **フレームレート**: 60fps 安定動作
- **メモリ使用量**: 約 10-20MB（ブラウザ環境による）
- **CPU使用率**: 軽量設計で低消費電力
- **互換性**: モダンブラウザ全般で動作確認済み

## ライセンス

MIT License で公開しています。

---

## 🔧 **開発者向け情報**

### 📋 **テスト**

```bash
# 全テスト実行
npm test

# カバレッジ付きテスト
npm test -- --coverage

# ウォッチモードでテスト
npm run test:watch
```

### 🎯 **品質保証**

- **テストカバレッジ**: 98.23% statements, 92.01% branches
- **ESLint**: コード品質とスタイル統一
- **Prettier**: 自動コード整形
- **Jest**: 包括的なテストスイート

### 📖 **コード構造**

- **`src/entities/`**: ゲームオブジェクト（Player, Enemy, Bullet, etc.）
- **`src/systems/`**: ゲームシステム（State, Rendering, etc.）
- **`src/config/`**: 設定ファイル
- **`tests/`**: 対応するテストファイル
